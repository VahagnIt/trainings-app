(this["webpackJsonptask-app"]=this["webpackJsonptask-app"]||[]).push([[0],{20:function(e,t,a){e.exports=a(36)},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),s=a.n(r),i=(a(25),a(6)),l=a(7),o=a(8),u=a(9),m=(a(26),a(2)),d=a(19),f=(a(27),a(28),function(e){return c.a.createElement("div",{className:"filter"},c.a.createElement("div",{className:"statuses-wrapper"},c.a.createElement("ul",{className:"statuses"},function(e){var t=e.states,a=e.onChangeStatus;return t.map((function(e,t){return c.a.createElement("li",{key:t,className:e.checked?"checked":"",onClick:function(){return a(t)}},e.name)}))}(e))),c.a.createElement("div",{className:"metrices-wrapper"},c.a.createElement("h3",{className:"title"}," Metrice"),c.a.createElement("ul",{className:"metrices"},function(e){var t=e.metrices,a=e.onClickMetrice;return t.map((function(e){return c.a.createElement("li",{key:e.id,className:e.checked?"checked":"",onClick:function(){return a(e.id)}},c.a.createElement("i",{className:e.icon}))}))}(e))))});a(29);function p(e){var t=new Date(e),a=t.getDate();return a<10&&(a="0"+a),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+a+"-"+t.getFullYear()}var h=function(e){var t=e.card,a=e.getIcon;return c.a.createElement("div",{className:"Card"},c.a.createElement("div",{className:"header"},t.image&&c.a.createElement("img",{src:t.image}),c.a.createElement("i",{className:a(t.metric)}),c.a.createElement("div",null,c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-crosshairs"}),t.type.toUpperCase()),c.a.createElement("i",{className:a(t.metric)}))),c.a.createElement("div",{className:"body"},c.a.createElement("p",{className:"title"},t.title),c.a.createElement("p",{className:"date"},c.a.createElement("i",{className:"fas fa-calendar-alt"}),p(t.date.start)+" ","-"," "+p(t.date.end))),c.a.createElement("div",{className:"footer"},c.a.createElement("button",null,c.a.createElement("i",{className:"fas fa-plus"}),"JOIN CONTEST")))},g=a(5),E=a.n(g),v=function(e){var t=e.cards,a=e.getIcon,n=e.loadMore,r=e.page;return c.a.createElement("div",{className:E.a.wrapper},t.map((function(e){return c.a.createElement(h,{key:e.id,card:e,getIcon:a})})),c.a.createElement("button",{className:E.a.button,onClick:function(){return n(-1)},disabled:!(r-1)},c.a.createElement("i",{className:"fas fa-backward"})),c.a.createElement("span",{className:E.a.page_num},r),c.a.createElement("button",{className:E.a.button,onClick:function(){return n(1)}},c.a.createElement("i",{className:"fas fa-forward"})))},k=(a(30),function(){return c.a.createElement("div",{className:"lds-wrapper"},c.a.createElement("div",{className:"lds-default"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))}),N=function(e){return fetch("https://frontapi.inkin.com/getContests.php"+e).then((function(e){return e.json()}))},C=function(e){var t="?";for(var a in e)e[a]&&(t+="".concat(a,"=").concat(e[a],"&"));return t.slice(0,-1)},b=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={states:[{name:"Ongoing",checked:!1,state:"inprocess"},{name:"Upcoming",checked:!1,state:"upcoming"},{name:"Ended",checked:!1,state:"past"}],metrices:[{id:1,name:"steps",checked:!1,icon:"fas fa-shoe-prints"},{id:2,name:"calories",checked:!1,icon:"fas fa-walking"},{id:3,name:"sleep",checked:!1,icon:"fas fa-globe-europe"},{id:5,name:"activity",checked:!1,icon:"fas fa-fire-alt"},{id:9,name:"distance",checked:!1,icon:"fas fa-cloud-moon"},{id:16,name:"water",checked:!1,icon:"fas fa-tint"}],loaded:!0,cards:[],page:"1",pagesize:"6",state:"",metrics:""},e.loadMore=function(t){e.setState((function(e){return{page:+e.page+t}}),e.stateChanged)},e.onChangeStatus=function(t){var a=e.state.states.slice();a.forEach((function(e,a){e.checked=a===t}));var n=a.filter((function(e){return e.checked}))[0];n=n?n.state.toLowerCase():"",e.setState({states:a,state:n,page:"1"},e.stateChanged)},e.onClickMetrice=function(t){var a=e.state.metrices.map((function(e){return e.id===t&&(e.checked=!e.checked),e})),n=a.filter((function(e){return e.checked})).map((function(e){return e.id})).toString();e.setState({metrices:a,metrics:n,page:"1"},e.stateChanged)},e.stateChanged=function(){var t=e.state,a=t.page,n=t.pagesize,c=t.state,r=t.metrics,s=C({page:a,pagesize:n,state:c,metrics:r});e.props.location.search!==s&&(e.setState({loaded:!1}),e.changeURL(s),N(s).then((function(t){e.setState({cards:t,loaded:!0})})).catch((function(e){return console.log(e)})))},e.changeURL=function(t){e.props.history.push({pathname:"",search:"".concat(t)})},e.getIcon=function(t){return e.state.metrices.filter((function(e){return e.id===t}))[0].icon},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search;if(t){this.setState({loaded:!1});var a=function(e){var t={};return e.slice(1).split("&").forEach((function(e){var a=e.split("=");t[a[0]]=a[1]})),t}(t),n=this.state.states.slice();a.state&&(n=n.map((function(e){return e.state===a.state&&(e.checked=!0),e})));var c=this.state.metrices.slice();if(a.metrics){var r=a.metrics.split(",").map((function(e){return+e}));c=c.map((function(e){return r.includes(e.id)&&(e.checked=!0),e}))}N(t).then((function(t){return e.setState(Object(d.a)({},a,{states:n,metrices:c,cards:t,loaded:!0}))})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){var e=null;return this.state.loaded&&this.state.cards.length?e=c.a.createElement(v,{cards:this.state.cards,getIcon:this.getIcon,loadMore:this.loadMore,page:+this.state.page}):this.state.loaded||(e=c.a.createElement(k,null)),c.a.createElement("div",{className:"Training"},c.a.createElement(f,{states:this.state.states,metrices:this.state.metrices,onClickMetrice:this.onClickMetrice,onChangeStatus:this.onChangeStatus}),e)}}]),a}(c.a.Component),w=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement(m.d,null,c.a.createElement(m.b,{path:"/trainings",component:b}),c.a.createElement(m.a,{to:"/trainings"}))}}]),a}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=a(18);s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y.a,null,c.a.createElement(w,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){e.exports={wrapper:"CardList_wrapper__1gRSG",button:"CardList_button__Ps2Kg",page_num:"CardList_page_num__1cOQp"}}},[[20,1,2]]]);
//# sourceMappingURL=main.94f1b363.chunk.js.map